<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IELTS Reading Practice - Bodie: America's Most Famous Ghost Town</title>
  <style>
    /* Reset and Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f9fb;
      color: #333;
      line-height: 1.7;
      transition: background-color 0.5s ease, color 0.5s ease;
      overflow-x: hidden;
    }

    .theme-day {
      --bg: #f9f9fb;
      --text: #333;
      --card-bg: #ffffff;
      --border: #e1e1e1;
      --accent: #4a90e2;
      --highlight-yellow: #fff380;
      --highlight-blue: #b3d9ff;
    }

    .theme-night {
      --bg: #121212;
      --text: #e0e0e0;
      --card-bg: #1e1e1e;
      --border: #333;
      --accent: #6c8ce4;
      --highlight-yellow: #ffd700;
      --highlight-blue: #8bc2ff;
    }

    .theme-sepia {
      --bg: #f5f1e6;
      --text: #553c26;
      --card-bg: #f9f3e6;
      --border: #b39a7c;
      --accent: #8b5e3c;
      --highlight-yellow: #f2c975;
      --highlight-blue: #c1b3a6;
    }

    body {
      background-color: var(--bg);
      color: var(--text);
    }

    .container {
      display: flex;
      height: 100vh;
      max-height: 100vh;
      overflow: hidden;
    }

    /* Left Panel: Passage */
    .passage-panel {
      flex: 1;
      padding: 2rem;
      overflow-y: auto;
      background-color: var(--card-bg);
      border-right: 1px solid var(--border);
      transition: all 0.3s ease;
    }

    .passage-panel h1 {
      font-size: 1.8rem;
      margin-bottom: 1rem;
      color: var(--accent);
      text-align: center;
    }

    .passage-panel p {
      margin-bottom: 1.2rem;
      font-size: 1rem;
    }

    /* Right Panel: Questions */
    .questions-panel {
      flex: 1;
      padding: 2rem;
      overflow-y: auto;
      background-color: var(--card-bg);
      transition: all 0.3s ease;
    }

    .questions-panel h2 {
      font-size: 1.4rem;
      margin-bottom: 1rem;
      color: var(--accent);
    }

    .question-group {
      margin-bottom: 2rem;
    }

    .question-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }

    .answer-input {
      width: 100%;
      padding: 0.5rem;
      margin-bottom: 0.5rem;
      border: 1px solid var(--border);
      border-radius: 6px;
      background-color: var(--card-bg);
      color: var(--text);
    }

    .radio-options {
      display: flex;
      gap: 1rem;
      margin-top: 0.5rem;
    }

    .radio-option {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .radio-option input {
      width: 1.2rem;
      height: 1.2rem;
    }

    .radio-option label {
      cursor: pointer;
    }

    /* Header */
    header {
      position: sticky;
      top: 0;
      z-index: 100;
      background-color: var(--card-bg);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      border-bottom: 1px solid var(--border);
      transition: all 0.3s ease;
    }

    .timer {
      font-size: 1.2rem;
      font-weight: bold;
      color: var(--accent);
    }

    .theme-toggle {
      display: flex;
      gap: 0.5rem;
    }

    .theme-toggle button {
      padding: 0.5rem 1rem;
      border: none;
      background-color: var(--accent);
      color: white;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }

    .theme-toggle button:hover {
      opacity: 0.9;
    }

    .telegram-button {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background-color: #0084ff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .telegram-button:hover {
      background-color: #0066cc;
    }

    .telegram-icon {
      width: 1.2rem;
      height: 1.2rem;
    }

    /* Highlight Menu */
    .highlight-menu {
      position: absolute;
      background-color: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 0.5rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      display: none;
      z-index: 1000;
      min-width: 120px;
      pointer-events: auto;
    }

    .highlight-menu button {
      display: block;
      width: 100%;
      padding: 0.5rem;
      margin: 0.2rem 0;
      border: none;
      background-color: transparent;
      color: var(--text);
      cursor: pointer;
      border-radius: 4px;
      transition: background-color 0.2s ease;
    }

    .highlight-menu button:hover {
      background-color: var(--accent);
      color: white;
    }

    .highlight-menu button.yellow {
      background-color: var(--highlight-yellow);
      color: black;
    }

    .highlight-menu button.blue {
      background-color: var(--highlight-blue);
      color: black;
    }

    /* Submit Button */
    .submit-btn {
      margin-top: 1rem;
      padding: 0.8rem 1.5rem;
      background-color: var(--accent);
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    .submit-btn:hover {
      background-color: #3a7bc8;
    }

    /* Results Modal */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal-content {
      background-color: var(--card-bg);
      padding: 2rem;
      width: 90%;
      max-width: 800px;
      border-radius: 12px;
      max-height: 90vh;
      overflow-y: auto;
      color: var(--text);
    }

    .modal-title {
      font-size: 1.8rem;
      margin-bottom: 1rem;
      color: var(--accent);
    }

    .result-item {
      margin-bottom: 1rem;
      padding: 1rem;
      background-color: var(--border);
      border-radius: 6px;
    }

    .correct {
      background-color: #d4edda;
      color: #155724;
    }

    .incorrect {
      background-color: #f8d7da;
      color: #721c24;
    }

    .not-given {
      background-color: #fff3cd;
      color: #856404;
    }

    .answer-explanation {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #666;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate-fade-in {
      animation: fadeIn 0.5s ease forwards;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }

      .passage-panel,
      .questions-panel {
        height: auto;
        padding: 1rem;
        border-right: none;
        border-bottom: 1px solid var(--border);
      }

      .questions-panel {
        border-bottom: none;
      }
    }

    @media (max-width: 480px) {
      .header {
        flex-direction: column;
        gap: 1rem;
      }

      .timer {
        font-size: 1rem;
      }

      .theme-toggle {
        width: 100%;
        justify-content: center;
      }

      .telegram-button {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body class="theme-day">
  <!-- Header -->
  <header>
    <div class="timer">Time: <span id="time-left">20:00</span></div>
    <div class="theme-toggle">
      <button id="day-theme">Day</button>
      <button id="night-theme">Night</button>
      <button id="sepia-theme">Sepia</button>
    </div>
    <a href="tg://resolve?domain=aftum_8" class="telegram-button">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="telegram-icon">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
      </svg>
      Telegram Channel
    </a>
  </header>

  <!-- Main Container -->
  <div class="container">
    <!-- Passage Panel -->
    <div class="passage-panel" id="passage-panel">
      <h1>Bodie: America's most famous ghost town</h1>
      <p>If you peek inside one of the broken-down buildings in Bodie, California, you might see dust-covered furniture with an old muffin pan, rusty tins, and broken kerosene lamps or a fully stocked general store with original wooden boxes and shelves with tin cans. Situated in a sagebrush-covered valley in the eastern foothills of the Sierra Nevada mountain range, the old gold-mining town, once busy with life, began in the 1870s, when prospective miners arrived in the town in hopes of finding gold and becoming wealthy. By the 1940s, the gold was gone and the last mine closed. Today, not many structures remain in Bodie; there is about 20 percent of the number that stood in the 1870s, when the town had up to 8,000 inhabitants.</p>

      <p>In the 1870s, thirty mines were built and began producing large pieces of gold in large quantities. The Standard Company was one of the first factories in America to extract the remaining traces of gold using electricity. Chemical processing was done in two stages. In the first stage, workers washed ground-up ore over copper sheets covered with gold-grabbing mercury, then they heated it to release and condense the mercury, and turned the melted mixture into the shape of golf bars. In a second stage devised to obtain any remaining gold and silver particles, the ore, now the consistency of sand, was soaked in watered-down potassium cyanide. This drew the metals out into a form that could be trapped by trays containing small pieces of zinc. This process went on for about 70 years, until the gold mines dried up.</p>

      <p>When the California State Parks Department took over Bodie in 1962, it began a program of "arrested decay," maintaining the run-down structures just as they appeared at the time the department acquired the town.</p>

      <p>According to Charley Spiller, a Bodie maintenance mechanic, the greatest enemies of preservation are wind, which can gust up to 100 miles an hour on nearby mountains, and snow, which averages 13 feet a year. When snow gets into a building and sits and... into the floors, the condition of the floors gets worse, and they often rot. Currently, a team of three or four workers spends six months of each year strengthening walls, repairing roofs, and replacing smashed windows. Spiller and his team rebuild walls using pine similar to the native Jeffrey pine that was originally used without constant attention, most houses would fall apart. Nearby towns similar to Bodie have already disappeared because, for one reason or another, they weren't maintained.</p>

      <p>While the staff work to preserve the site's empty look, a variety of natural life lives on in the remains of the town. California ground squirrels tunnel into the shrub-covered earth, feeding on meadow grass and bitterbrush. Coyotes—and from time to time a mountain lion, bobcat, or bear—amble through the town. As people left their homes in Bodie and no one else moved in, the houses became popular havens for species that thrive in the empty places, such as deer, mice, snakes, and lizards. Trillions of microbes, life forms invisible to the human eye, also live in the soil, some of which can consume the toxic mercury and cyanide by-products of mining. One microbial ecologist found that deserts, like the one in Bodie, contain up to twice as many bacterial species, roughly 10,000 per 10 square meters, as do acidic rainforest soils. The deserts of the American West, where thousands of ghost towns stand, are therefore surprisingly full of life.</p>

      <p>It is the life that left Bodie, however, that most interests the tourists who visit. Ghost towns like Bodie, cultural geographer Dydia DeLyser explains, are a powerful draw because they are perceived as authentic—actual abandoned towns presented more or less as they were left, and therefore as they once were. DeLyser says that visitors examine their originality, asking questions like, "Was all this stuff really just left here?" Or "Was it all set up to make it look like a ghost town?" If it would be a mistake, DeLyser says, for anyone to think that the plates on the table or other items at Bodie were left behind in a rush to escape.</p>
    </div>

    <!-- Questions Panel -->
    <div class="questions-panel" id="questions-panel">
      <div class="question-group">
        <h2>Questions 1–7</h2>
        <p>Complete the notes below.</p>
        <p>Choose ONE WORD AND/OR A NUMBER from the passage for each answer.</p>
        <p>Write your answers in boxes 1–7 on your answer sheet.</p>

        <div class="note-section">
          <h3>Bodie’s past</h3>
          <p><strong>About Bodie</strong></p>
          <p>- Located in a <input type="text" class="answer-input" data-question="1" placeholder="1"></p>
          <p>- In the 1870s attracted people who wanted to be <input type="text" class="answer-input" data-question="2" placeholder="2"></p>
          <p>- Saw the end of gold production in the 1940s.</p>
          <p>- Now has about <input type="text" class="answer-input" data-question="3" placeholder="3"> of the original buildings.</p>
        </div>

        <div class="note-section">
          <h3>Gold mining and milling</h3>
          <p>- Large-scale production of gold</p>
          <p>- Extraction of smaller amounts of gold required <input type="text" class="answer-input" data-question="4" placeholder="4"></p>
          <p>- Extraction by chemical processing involved:</p>
          <p>- First stage:</p>
          <p>- Ore was rinsed over mercury-covered sheets of <input type="text" class="answer-input" data-question="5" placeholder="5"></p>
          <p>- Melted mixture was formed into bars</p>
          <p>- Second stage (to filter any leftover gold or silver particles):</p>
          <p>- Ore with texture like <input type="text" class="answer-input" data-question="6" placeholder="6"> was immersed in potassium cyanide.</p>
          <p>- Metals were taken out and caught in containers filled with <input type="text" class="answer-input" data-question="7" placeholder="7"></p>
        </div>
      </div>

      <div class="question-group">
        <h2>Questions 8–13</h2>
        <p>Do the following statements agree with the information given in Reading Passage 1?</p>
        <p>In boxes 8–13 on your answer sheet, write</p>
        <p><strong>TRUE</strong> if the statement agrees with the information</p>
        <p><strong>FALSE</strong> if the statement contradicts the information</p>
        <p><strong>NOT GIVEN</strong> if there is no information on this.</p>

        <div class="question">
          <label>8. Wind and snow are the most difficult factors Bodie preservationists have to deal with</label>
          <div class="radio-options">
            <div class="radio-option"><input type="radio" name="q8" value="TRUE" id="q8-true"><label for="q8-true">TRUE</label></div>
            <div class="radio-option"><input type="radio" name="q8" value="FALSE" id="q8-false"><label for="q8-false">FALSE</label></div>
            <div class="radio-option"><input type="radio" name="q8" value="NOT GIVEN" id="q8-notgiven"><label for="q8-notgiven">NOT GIVEN</label></div>
          </div>
        </div>

        <div class="question">
          <label>9. The maintenance team in Bodie was unable to locate the Jeffrey pine the settlers used</label>
          <div class="radio-options">
            <div class="radio-option"><input type="radio" name="q9" value="TRUE" id="q9-true"><label for="q9-true">TRUE</label></div>
            <div class="radio-option"><input type="radio" name="q9" value="FALSE" id="q9-false"><label for="q9-false">FALSE</label></div>
            <div class="radio-option"><input type="radio" name="q9" value="NOT GIVEN" id="q9-notgiven"><label for="q9-notgiven">NOT GIVEN</label></div>
          </div>
        </div>

        <div class="question">
          <label>10. Lack of funding has caused other towns like Bodie to disappear.</label>
          <div class="radio-options">
            <div class="radio-option"><input type="radio" name="q10" value="TRUE" id="q10-true"><label for="q10-true">TRUE</label></div>
            <div class="radio-option"><input type="radio" name="q10" value="FALSE" id="q10-false"><label for="q10-false">FALSE</label></div>
            <div class="radio-option"><input type="radio" name="q10" value="NOT GIVEN" id="q10-notgiven"><label for="q10-notgiven">NOT GIVEN</label></div>
          </div>
        </div>

        <div class="question">
          <label>11. Many people left Bodie when wild animals started living in their homes.</label>
          <div class="radio-options">
            <div class="radio-option"><input type="radio" name="q11" value="TRUE" id="q11-true"><label for="q11-true">TRUE</label></div>
            <div class="radio-option"><input type="radio" name="q11" value="FALSE" id="q11-false"><label for="q11-false">FALSE</label></div>
            <div class="radio-option"><input type="radio" name="q11" value="NOT GIVEN" id="q11-notgiven"><label for="q11-notgiven">NOT GIVEN</label></div>
          </div>
        </div>

        <div class="question">
          <label>12. Acidic rainforest soils tend to contain more microbes than the soil found in places like Bodie.</label>
          <div class="radio-options">
            <div class="radio-option"><input type="radio" name="q12" value="TRUE" id="q12-true"><label for="q12-true">TRUE</label></div>
            <div class="radio-option"><input type="radio" name="q12" value="FALSE" id="q12-false"><label for="q12-false">FALSE</label></div>
            <div class="radio-option"><input type="radio" name="q12" value="NOT GIVEN" id="q12-notgiven"><label for="q12-notgiven">NOT GIVEN</label></div>
          </div>
        </div>

        <div class="question">
          <label>13. Some tourists doubt that items in Bodie were really used by people who lived there.</label>
          <div class="radio-options">
            <div class="radio-option"><input type="radio" name="q13" value="TRUE" id="q13-true"><label for="q13-true">TRUE</label></div>
            <div class="radio-option"><input type="radio" name="q13" value="FALSE" id="q13-false"><label for="q13-false">FALSE</label></div>
            <div class="radio-option"><input type="radio" name="q13" value="NOT GIVEN" id="q13-notgiven"><label for="q13-notgiven">NOT GIVEN</label></div>
          </div>
        </div>
      </div>

      <button class="submit-btn" onclick="showResults()">Submit Answers</button>
    </div>
  </div>

  <!-- Highlight Menu -->
  <div id="highlight-menu" class="highlight-menu">
    <button class="yellow">Yellow</button>
    <button class="blue">Blue</button>
    <button class="clear">Clear</button>
  </div>

  <!-- Results Modal -->
  <div id="results-modal" class="modal">
    <div class="modal-content animate-fade-in">
      <h2 class="modal-title">Your IELTS Reading Score</h2>
      <div id="results"></div>
    </div>
  </div>

  <script>
    // Theme toggling
    const themeButtons = {
      day: document.getElementById('day-theme'),
      night: document.getElementById('night-theme'),
      sepia: document.getElementById('sepia-theme')
    };

    Object.keys(themeButtons).forEach(key => {
      themeButtons[key].addEventListener('click', () => {
        document.body.className = '';
        document.body.classList.add(`theme-${key}`);
      });
    });

    // Timer
    let timeLeft = 20 * 60; // 20 minutes in seconds
    const timerDisplay = document.getElementById('time-left');
    const timerInterval = setInterval(() => {
      timeLeft--;
      const mins = Math.floor(timeLeft / 60);
      const secs = timeLeft % 60;
      timerDisplay.textContent = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;

      if (timeLeft <= 300 && timeLeft > 0) {
        timerDisplay.style.color = '#e74c3c';
      }

      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        alert("Time's up! Your test has ended.");
        showResults();
      }
    }, 1000);

    // =====================
    // ✅ FIXED: Highlighting System
    // =====================
    const highlightMenu = document.getElementById('highlight-menu');
    let currentRange = null;

    // Show menu near selection
    function showHighlightMenu(range) {
      if (!range || !range.toString().trim()) {
        hideHighlightMenu();
        return;
      }

      const rect = range.getBoundingClientRect();
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;

      // Position menu below selection
      highlightMenu.style.left = `${rect.left + scrollLeft}px`;
      highlightMenu.style.top = `${rect.bottom + scrollTop + 5}px`;
      highlightMenu.style.display = 'block';

      // Close on outside click
      setTimeout(() => {
        document.addEventListener('click', closeOnOutsideClick, { once: true });
        document.addEventListener('touchstart', closeOnOutsideClick, { once: true });
      }, 0);

      currentRange = range;
    }

    function hideHighlightMenu() {
      highlightMenu.style.display = 'none';
      currentRange = null;
    }

    function closeOnOutsideClick(event) {
      if (!highlightMenu.contains(event.target) && !isInsidePassage(event.target)) {
        hideHighlightMenu();
      }
    }

    function isInsidePassage(el) {
      return document.getElementById('passage-panel').contains(el);
    }

    // Handle mouse selection
    let isSelecting = false;

    document.getElementById('passage-panel').addEventListener('mousedown', () => {
      isSelecting = true;
    });

    document.addEventListener('mouseup', () => {
      if (!isSelecting) return;
      isSelecting = false;

      const selection = window.getSelection();
      if (selection.rangeCount > 0) {
        const range = selection.getRangeAt(0);
        if (range.toString().trim().length > 0 && isInsidePassage(range.commonAncestorContainer)) {
          showHighlightMenu(range);
        } else {
          hideHighlightMenu();
        }
      } else {
        hideHighlightMenu();
      }
    });

    // Handle touch selection (mobile)
    document.getElementById('passage-panel').addEventListener('touchstart', () => {
      isSelecting = true;
    });

    document.addEventListener('touchend', () => {
      if (!isSelecting) return;
      isSelecting = false;

      setTimeout(() => {
        const selection = window.getSelection();
        if (selection.rangeCount > 0) {
          const range = selection.getRangeAt(0);
          if (range.toString().trim().length > 0 && isInsidePassage(range.commonAncestorContainer)) {
            showHighlightMenu(range);
          } else {
            hideHighlightMenu();
          }
        } else {
          hideHighlightMenu();
        }
      }, 100); // Small delay for selection to register on mobile
    });

    // Highlight buttons
    document.querySelectorAll('#highlight-menu button').forEach(button => {
      button.addEventListener('click', () => {
        if (!currentRange) return;

        try {
          const fragment = currentRange.extractContents();
          const span = document.createElement('span');

          if (button.classList.contains('clear')) {
            // Insert without highlight
            currentRange.insertNode(fragment);
          } else {
            // Apply highlight
            const bgColor = button.classList.contains('yellow') ? 'yellow' :
                           button.classList.contains('blue') ? 'lightblue' : 'transparent';
            span.style.backgroundColor = bgColor;
            span.style.padding = '0 2px';
            span.style.borderRadius = '3px';
            span.appendChild(fragment);
            currentRange.insertNode(span);
          }

          // Clear selection
          window.getSelection().removeAllRanges();
          hideHighlightMenu();

        } catch (error) {
          console.error("Error applying highlight:", error);
          alert("Could not apply highlight. Please try again.");
        }
      });
    });

    // Prevent menu from closing when interacting with it
    highlightMenu.addEventListener('click', (e) => {
      e.stopPropagation();
    });

    // Submit Answers
    function showResults() {
      const resultsContainer = document.getElementById('results');
      const correctAnswers = {
        1: 'valley',
        2: 'miners',
        3: '20 percent',
        4: 'electricity',
        5: 'copper',
        6: 'sand',
        7: 'zinc',
        8: 'TRUE',
        9: 'NOT GIVEN',
        10: 'NOT GIVEN',
        11: 'FALSE',
        12: 'FALSE',
        13: 'TRUE'
      };

      const explanations = {
        1: 'The text states: "Situated in a sagebrush-covered valley in the eastern foothills..."',
        2: 'The text states: "when prospective miners arrived in the town in hopes of finding gold and becoming wealthy."',
        3: 'The text states: "Today not many structures remain in Bodie, there is about 20 percent of the number that stood in the 1870s"',
        4: 'The text states: "The Standard Company was one of the first factories in America to extract the remaining traces of gold using electricity."',
        5: 'The text states: "workers washed ground-up ore over copper sheets covered with gold-grabbing mercury"',
        6: 'The text states: "the ore, now the consistency of sand, was soaked in watered-down potassium cyanide"',
        7: 'The text states: "This drew the metals out into a form that could be trapped by trays containing small pieces of zinc"',
        8: 'The text states: "According to Charley Spiller, a Bodie maintenance mechanic, the greatest enemies of preservation are wind... and snow..."',
        9: 'The text does not mention whether the team was able to locate the Jeffrey pine.',
        10: 'The text mentions that nearby towns disappeared due to lack of maintenance, but does not specify funding.',
        11: 'The text says people left when no one else moved in, not because of wild animals.',
        12: 'The text states: "deserts, like the one in Bodie, contain up to twice as many bacterial species... as do acidic rainforest soils"', 
        13: 'The text states: "visitors examine their originality, asking questions like ‘was all this stuff really just left here?’"'
      };

      let score = 0;
      let totalQuestions = 13;
      let resultHTML = `<p><strong>Total Score: ${score}/${totalQuestions}</strong></p><br/>`;

      for (let i = 1; i <= 13; i++) {
        let userAnswer = '';
        let isCorrect = false;

        if (i <= 7) {
          const input = document.querySelector(`[data-question="${i}"]`);
          userAnswer = input.value.trim().toLowerCase();
          isCorrect = userAnswer === correctAnswers[i].toLowerCase();
        } else {
          const radioGroup = document.getElementsByName(`q${i}`);
          for (const radio of radioGroup) {
            if (radio.checked) {
              userAnswer = radio.value;
              break;
            }
          }
          isCorrect = userAnswer === correctAnswers[i];
        }

        if (isCorrect) {
          score++;
          resultHTML += `<div class="result-item correct"><strong>Question ${i}: Correct</strong> - ${userAnswer}</div>`;
        } else {
          resultHTML += `<div class="result-item incorrect"><strong>Question ${i}: Incorrect</strong> - You answered: ${userAnswer}, Correct: ${correctAnswers[i]}</div>`;
        }

        resultHTML += `<div class="answer-explanation">${explanations[i]}</div>`;
      }

      resultsContainer.innerHTML = resultHTML;
      document.getElementById('results-modal').style.display = 'flex';
    }

    // Close modal
    document.getElementById('results-modal').addEventListener('click', (e) => {
      if (e.target === document.getElementById('results-modal')) {
        document.getElementById('results-modal').style.display = 'none';
      }
    });
  </script>
</body>
</html>