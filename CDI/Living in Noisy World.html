<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Reading Test</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-day: #6d9cff;
            --secondary-day: #f0f7ff;
            --text-day: #333;
            --bg-day: #fff;
            --highlight-yellow: rgba(255, 255, 0, 0.3);
            --highlight-blue: rgba(0, 191, 255, 0.3);
            
            --primary-night: #8ab4f8;
            --secondary-night: #202124;
            --text-night: #e8eaed;
            --bg-night: #303134;
            
            --primary-sepia: #9c6d3b;
            --secondary-sepia: #f5f0e6;
            --text-sepia: #5a4a42;
            --bg-sepia: #f8f2e6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .theme-day {
            --primary: var(--primary-day);
            --secondary: var(--secondary-day);
            --text: var(--text-day);
            --bg: var(--bg-day);
        }

        .theme-night {
            --primary: var(--primary-night);
            --secondary: var(--secondary-night);
            --text: var(--text-night);
            --bg: var(--bg-night);
        }

        .theme-sepia {
            --primary: var(--primary-sepia);
            --secondary: var(--secondary-sepia);
            --text: var(--text-sepia);
            --bg: var(--bg-sepia);
        }

        body {
            background-color: var(--bg);
            color: var(--text);
        }

        header {
            background-color: var(--primary);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 100;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 10px;
        }

        .theme-switcher {
            display: flex;
            gap: 10px;
        }

        .theme-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: transform 0.2s;
        }

        .theme-btn:hover {
            transform: scale(1.1);
        }

        .timer {
            font-size: 1.2rem;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
        }

        .timer.warning {
            color: #ff6b6b;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.6; }
            100% { opacity: 1; }
        }

        .telegram-btn {
            background: #0088cc;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.2s;
        }

        .telegram-btn:hover {
            transform: translateY(-2px);
        }

        .container {
            display: flex;
            height: calc(100vh - 70px);
        }

        .passage-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            border-right: 1px solid var(--primary);
        }

        .questions-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: var(--secondary);
        }

        .passage-content {
            max-width: 800px;
            margin: 0 auto;
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .passage-content h1 {
            margin-bottom: 20px;
            color: var(--primary);
        }

        .passage-content h2 {
            margin: 25px 0 15px;
            color: var(--primary);
        }

        .passage-content p {
            margin-bottom: 15px;
        }

        .highlight-menu {
            position: absolute;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            padding: 8px;
            display: flex;
            gap: 5px;
            z-index: 1000;
            transform: translateY(-100%);
        }

        .highlight-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .yellow-highlight {
            background-color: var(--highlight-yellow);
        }

        .blue-highlight {
            background-color: var(--highlight-blue);
        }

        .question-section {
            margin-bottom: 30px;
        }

        .question-section h3 {
            margin-bottom: 15px;
            color: var(--primary);
        }

        .question {
            margin-bottom: 20px;
            padding: 15px;
            background-color: var(--bg);
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .question p {
            margin-bottom: 10px;
            font-weight: bold;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option input {
            width: 18px;
            height: 18px;
        }

        .option label {
            cursor: pointer;
        }

        .input-answer {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--primary);
            border-radius: 5px;
            background-color: var(--bg);
            color: var(--text);
        }

        .submit-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            display: block;
            margin: 30px auto;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .results-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg);
            z-index: 1000;
            overflow-y: auto;
            padding: 30px;
            display: none;
        }

        .results-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .results-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .score {
            font-size: 2.5rem;
            color: var(--primary);
            margin: 20px 0;
        }

        .result-item {
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--secondary);
        }

        .correct {
            border-left: 5px solid #4caf50;
        }

        .incorrect {
            border-left: 5px solid #f44336;
        }

        .result-question {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .user-answer, .correct-answer {
            margin-bottom: 5px;
        }

        .answer-location {
            margin-top: 10px;
            font-style: italic;
            color: var(--primary);
        }

        .close-results {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            display: block;
            margin: 30px auto;
        }

        @media (max-width: 992px) {
            .container {
                flex-direction: column;
                height: auto;
            }
            
            .passage-container {
                border-right: none;
                border-bottom: 1px solid var(--primary);
            }
        }
    </style>
</head>
<body class="theme-day">
    <header>
        <div class="logo">
            <i class="fas fa-book-reader"></i>
            <span>IELTS Reading Test</span>
        </div>
        <div class="theme-switcher">
            <button class="theme-btn" id="day-theme" title="Day Theme"><i class="fas fa-sun"></i></button>
            <button class="theme-btn" id="night-theme" title="Night Theme"><i class="fas fa-moon"></i></button>
            <button class="theme-btn" id="sepia-theme" title="Sepia Theme"><i class="fas fa-feather-alt"></i></button>
        </div>
        <div class="timer" id="timer">20:00</div>
        <a href="tg://resolve?domain=aftum_8" class="telegram-btn">
            <i class="fab fa-telegram"></i>
            <span>Телеграмм канал</span>
        </a>
    </header>

    <div class="container">
        <div class="passage-container">
            <div class="passage-content" id="passage-content">
                <h1>Living in Noisy World</h1>
                
                <h2>Section A: Decibel Hell</h2>
                <p>It's not difficult for a person to encounter sound at levels that can cause adverse health effects. During a single day, people living in a typical urban environment can experience a wide range of sounds in many locations, even once-quiet locales have become polluted with noise. In fact, it's difficult today to escape sound completely. In its 1999 Guidelines for Community Noise, the World Health Organization (WHO) declared, "Worldwide, noise-induced hearing impairment is the most prevalent irreversible occupational hazard, and it is estimated that 120 million people worldwide have disabling hearing difficulties." Growing evidence also points to many other health effects of too much volume.</p>
                <p>Mark Stephenson, a Cincinnati, Ohio-based senior research audiologist at the National Institute for Occupational Safety and Health (NIOSH), says his agency's definition of hazardous noise is sound that exceeds the time-weighted average of 85 dBA, meaning the average noise exposure measured over a typical eight-hour workday. Other measures and definitions are used for other purposes.</p>
                
                <h2>Section B: Growing Volume</h2>
                <p>In the United States, about 30 million workers are exposed to hazardous sound levels on the job, according to NIOSH. Industries having a high number of workers exposed to loud sounds include construction, agriculture, mining, manufacturing, utilities, transportation, and the military.</p>
                <p>Noise in U.S. industry is an extremely difficult problem to monitor, acknowledges Craig Moulton, a senior industrial hygienist for the Occupational Safety and Health Administration (OSHA). "Still," he says, "OSHA does require that any employer with workers overexposed to noise provide protection for those employees against the harmful effects of noise. Additionally, employers must implement a continuing, effective hearing conservation program as outlined in OSHA's Noise Standard."</p>
                
                <h2>Section C: Scary Sound Effects</h2>
                <p>Numerous scientific studies over the years have confirmed that exposure to certain levels of sound can damage hearing. Prolonged exposure can actually change the structure of the hair cells in the inner ear, resulting in hearing loss. It can also cause tinnitus, a ringing, roaring, buzzing, or clicking on the ears.</p>
                <p>NIOSH studies from the mid to late 1990s show that 90% of coal miners have hearing impairment by age 52 – compared to 9% of the general population – and 70% of male metal/nonmetal miners will experience hearing impairment by age 60 (Stephenson notes that from adolescence onward, females tend to have better hearing than males). Neitzel says nearly half of all construction workers have some degree of hearing loss. "NIOSH research also reveals that by age twenty-five, the average carpenter's hearing is equivalent to an otherwise healthy fifty-year-old male who hasn't been exposed to noise," he says.</p>
                <p>William Luxford, medical director of the House Ear Clinic of St. Vincent Medical Center in Los Angeles, points out one piece of good news: "It's true that continuous noise exposure will lead to the continuation of hearing loss, but as soon as the exposure is stopped, the hearing loss stops. So a change in environment can improve a person's hearing health."</p>
                <p>Research is catching up with this anecdotal evidence. In the July 2001 issue of Pediatrics, researchers from the Centers for Disease Control and Prevention reported that, based on audiometric testing of 5,249 children as part of the Third National Health and Nutrition, Examination Survey, an estimated 12.5% of American children have noise-induced hearing threshold shifts – or dulled hearing – in one or both ears. Most children with noise-induced hearing threshold shifts have only limited hearing damage, but continued exposure to excessive noise can lead to difficulties with high-frequency sound discrimination. The report listed stereos, music concerts, toys (such as toy telephones and certain rattles), lawnmowers, and fireworks as producing potentially harmful sounds.</p>
                
                <h2>Section D: Beyond the Ears</h2>
                <p>The effects of sound don't stop with the ears. Nonauditory effects of noise exposure are those effects that don't cause hearing loss but still can be measured, such as elevated blood pressure, loss of sleep, increased heart rate, cardiovascular constriction, labored breathing, and changes in brain chemistry.</p>
                <p>The nonauditory effects of noise were noted as early as 1930 in a study published by E.L. Smith and D.L. Laird in volume 2 of the Journal of the Acoustical Society of America. The results showed that exposure to noise caused stomach contractions in healthy human beings. Reports on noise's nonauditory effects published since that pioneering study have been both contradictory and controversial in some areas.</p>
                <p>Bronzaft and the school principal persuaded the school board to have acoustical tile installed in the classrooms adjacent to the tracks. The Transit Authority also treated the tracks near the school to make them less noisy. A follow-up study published in the September 1981 issue of the Journal of Environmental Psychology found that children's reading scores improved after these interventions were put in place.</p>
                
                <h2>Section E: Fighting for Quiet</h2>
                <p>Anti-noise activists say that Europe and several countries in Asia are more advanced than the United States in terms of combating noise. "Population pressure has prompted Europe to move more quickly on the noise issue that the United States has," Hume says. In the European Union, countries with cities of at least 250,000 people are creating noise maps of those cities to help leaders determine noise pollution policies. Paris has already prepared its first noise maps. The map data, which must be finished by 2007, will be fed into computer models that will help test the sound impact of street designs or new buildings before construction begins.</p>
                <p>Activists in other countries say they too want the United States to play a more leading role on the noise issue. But as in other areas of environmental health, merely having a more powerful government agency in place that can set more regulations is not the ultimate answer, according to other experts. Bronzaft stresses that governments worldwide need to increase funding for noise research and do a better job coordinating their noise pollution efforts so they can establish health and environmental policies based on solid scientific research. "Governments have a responsibility to protect their citizens by curbing noise pollution," she says.</p>
            </div>
        </div>

        <div class="questions-container">
            <div class="question-section">
                <h3>Questions 1-5</h3>
                <p>Complete the summary below. Choose <strong>NO MORE THAN TWO WORDS</strong> from the passage for each answer.</p>
                
                <div class="question">
                    <p>Nowadays it seems difficult for people to avoid the effects of living in a noisy world. Noise is the sound beyond the average of <input type="text" class="input-answer" id="q1"> referring to the agency's definition. Scientific studies over the years from the mid to late 1990s have confirmed that exposure to certain levels of sound can cause damage <input type="text" class="input-answer" id="q2"> on certain senior age.</p>
                </div>
                
                <div class="question">
                    <p>From the testing of 5,249 children, those who are constantly exposed to excessive noise may have trouble in <input type="text" class="input-answer" id="q3"> sound discrimination. The effects of sound don't stop with the ears, exposure to noise may lead to the unease of <input type="text" class="input-answer" id="q4"> in healthy people. Europe has taken steps on the noise issue, big cities of over 250,000 people are creating <input type="text" class="input-answer" id="q5"> to help to create noise pollution policies.</p>
                </div>
            </div>

            <div class="question-section">
                <h3>Questions 6-10</h3>
                <p>Look at the following researchers and the list of findings below. Match each researcher with the correct finding.</p>
                
                <div class="question">
                    <p>6. People can change the environment to improve hearing health.</p>
                    <div class="options">
                        <div class="option">
                            <input type="radio" name="q6" id="q6a" value="A">
                            <label for="q6a">A. WHO</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q6" id="q6b" value="B">
                            <label for="q6b">B. William Luxford (the House Ear Clinic)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q6" id="q6c" value="C">
                            <label for="q6c">C. Craig Moulton (OSHA)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q6" id="q6d" value="D">
                            <label for="q6d">D. Arline Bronzaft</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q6" id="q6e" value="E">
                            <label for="q6e">E. Centers for Disease Control and Prevention</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <p>7. The government should continue the research on anti-noise researches with the fund.</p>
                    <div class="options">
                        <div class="option">
                            <input type="radio" name="q7" id="q7a" value="A">
                            <label for="q7a">A. WHO</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q7" id="q7b" value="B">
                            <label for="q7b">B. William Luxford (the House Ear Clinic)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q7" id="q7c" value="C">
                            <label for="q7c">C. Craig Moulton (OSHA)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q7" id="q7d" value="D">
                            <label for="q7d">D. Arline Bronzaft</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q7" id="q7e" value="E">
                            <label for="q7e">E. Centers for Disease Control and Prevention</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <p>8. Companies should be required to protect the employees to avoid noise.</p>
                    <div class="options">
                        <div class="option">
                            <input type="radio" name="q8" id="q8a" value="A">
                            <label for="q8a">A. WHO</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q8" id="q8b" value="B">
                            <label for="q8b">B. William Luxford (the House Ear Clinic)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q8" id="q8c" value="C">
                            <label for="q8c">C. Craig Moulton (OSHA)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q8" id="q8d" value="D">
                            <label for="q8d">D. Arline Bronzaft</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q8" id="q8e" value="E">
                            <label for="q8e">E. Centers for Disease Control and Prevention</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <p>9. Noise has posed an effect on American children's hearing ability.</p>
                    <div class="options">
                        <div class="option">
                            <input type="radio" name="q9" id="q9a" value="A">
                            <label for="q9a">A. WHO</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q9" id="q9b" value="B">
                            <label for="q9b">B. William Luxford (the House Ear Clinic)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q9" id="q9c" value="C">
                            <label for="q9c">C. Craig Moulton (OSHA)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q9" id="q9d" value="D">
                            <label for="q9d">D. Arline Bronzaft</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q9" id="q9e" value="E">
                            <label for="q9e">E. Centers for Disease Control and Prevention</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <p>10. Noise has seriously affected human being where they live worldwide.</p>
                    <div class="options">
                        <div class="option">
                            <input type="radio" name="q10" id="q10a" value="A">
                            <label for="q10a">A. WHO</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q10" id="q10b" value="B">
                            <label for="q10b">B. William Luxford (the House Ear Clinic)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q10" id="q10c" value="C">
                            <label for="q10c">C. Craig Moulton (OSHA)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q10" id="q10d" value="D">
                            <label for="q10d">D. Arline Bronzaft</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q10" id="q10e" value="E">
                            <label for="q10e">E. Centers for Disease Control and Prevention</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="question-section">
                <h3>Questions 11-13</h3>
                <p>Choose the correct letter A, B, C or D.</p>
                
                <div class="question">
                    <p>11. The board of schools built close to the tracks are convinced to</p>
                    <div class="options">
                        <div class="option">
                            <input type="radio" name="q11" id="q11a" value="A">
                            <label for="q11a">A. moved the classrooms away from the noisy track</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q11" id="q11b" value="B">
                            <label for="q11b">B. regulated the track usage to a less extent</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q11" id="q11c" value="C">
                            <label for="q11c">C. utilised a special material into classroom buildings lessening the effect of outside noise</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q11" id="q11d" value="D">
                            <label for="q11d">D. organised a team for a follow-up study</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <p>12. In European countries, the big cities' research on noise focuses on</p>
                    <div class="options">
                        <div class="option">
                            <input type="radio" name="q12" id="q12a" value="A">
                            <label for="q12a">A. How to record pollution details of the city on maps</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q12" id="q12b" value="B">
                            <label for="q12b">B. the impact of noise on population shift in the European cities</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q12" id="q12c" value="C">
                            <label for="q12c">C. how wide can a city be to avoid noise pollution</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q12" id="q12d" value="D">
                            <label for="q12d">D. helping the authorities better make a decision on management of the city</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <p>13. What is the best title in paragraph 1?</p>
                    <div class="options">
                        <div class="option">
                            <input type="radio" name="q13" id="q13a" value="A">
                            <label for="q13a">A. How people cope with noise pollutions</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q13" id="q13b" value="B">
                            <label for="q13b">B. the fight against the noise with the powerful technology</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q13" id="q13c" value="C">
                            <label for="q13c">C. The Effects of Living in a Noisy World</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q13" id="q13d" value="D">
                            <label for="q13d">D. The Effects of noise on children's learning</label>
                        </div>
                    </div>
                </div>
            </div>

            <button class="submit-btn" id="submit-btn">Submit Answers</button>
        </div>
    </div>

    <div class="results-container" id="results-container">
        <div class="results-content">
            <div class="results-header">
                <h2>Test Results</h2>
                <div class="score" id="score">0/13</div>
                <p>Your performance summary</p>
            </div>
            
            <div id="results-list">
                <!-- Results will be inserted here -->
            </div>
            
            <button class="close-results" id="close-results">Close Results</button>
        </div>
    </div>

    <script>
        // Theme switching functionality
        document.getElementById('day-theme').addEventListener('click', () => {
            document.body.className = 'theme-day';
        });
        
        document.getElementById('night-theme').addEventListener('click', () => {
            document.body.className = 'theme-night';
        });
        
        document.getElementById('sepia-theme').addEventListener('click', () => {
            document.body.className = 'theme-sepia';
        });

        // Timer functionality
        const timerElement = document.getElementById('timer');
        let timeLeft = 20 * 60; // 20 minutes in seconds
        let timerInterval;

        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            let seconds = timeLeft % 60;
            seconds = seconds < 10 ? '0' + seconds : seconds;
            
            timerElement.textContent = `${minutes}:${seconds}`;
            
            if (timeLeft === 5 * 60) {
                timerElement.classList.add('warning');
            }
            
            if (timeLeft === 0) {
                clearInterval(timerInterval);
                alert('Time is up! Submitting your answers.');
                submitAnswers();
            } else {
                timeLeft--;
            }
        }

        // Text highlighting functionality
        let highlightMenu = null;
        let currentSelection = null;

        function createHighlightMenu(x, y) {
            // Remove existing menu if any
            if (highlightMenu) {
                highlightMenu.remove();
            }
            
            highlightMenu = document.createElement('div');
            highlightMenu.className = 'highlight-menu';
            highlightMenu.style.top = `${y}px`;
            highlightMenu.style.left = `${x}px`;
            
            const yellowBtn = document.createElement('button');
            yellowBtn.className = 'highlight-btn';
            yellowBtn.style.backgroundColor = 'yellow';
            yellowBtn.innerHTML = '<i class="fas fa-highlighter"></i>';
            yellowBtn.title = 'Yellow Highlight';
            yellowBtn.addEventListener('click', () => applyHighlight('yellow'));
            
            const blueBtn = document.createElement('button');
            blueBtn.className = 'highlight-btn';
            blueBtn.style.backgroundColor = 'lightblue';
            blueBtn.innerHTML = '<i class="fas fa-highlighter"></i>';
            blueBtn.title = 'Blue Highlight';
            blueBtn.addEventListener('click', () => applyHighlight('blue'));
            
            const clearBtn = document.createElement('button');
            clearBtn.className = 'highlight-btn';
            clearBtn.innerHTML = '<i class="fas fa-eraser"></i>';
            clearBtn.title = 'Clear Highlight';
            clearBtn.addEventListener('click', clearHighlight);
            
            highlightMenu.appendChild(yellowBtn);
            highlightMenu.appendChild(blueBtn);
            highlightMenu.appendChild(clearBtn);
            
            document.body.appendChild(highlightMenu);
        }

        function applyHighlight(color) {
            if (!currentSelection || currentSelection.toString().trim() === '') return;
            
            const range = currentSelection.getRangeAt(0);
            const selectedText = range.extractContents();
            const span = document.createElement('span');
            
            span.appendChild(selectedText);
            span.style.backgroundColor = color === 'yellow' ? 'rgba(255, 255, 0, 0.3)' : 'rgba(0, 191, 255, 0.3)';
            span.className = color === 'yellow' ? 'yellow-highlight' : 'blue-highlight';
            
            range.insertNode(span);
            removeHighlightMenu();
        }

        function clearHighlight() {
            if (!currentSelection || currentSelection.toString().trim() === '') return;
            
            const range = currentSelection.getRangeAt(0);
            const selectedContent = range.extractContents();
            
            // Create a document fragment to hold the content
            const fragment = document.createDocumentFragment();
            
            // Move all child nodes from selectedContent to the fragment
            while (selectedContent.firstChild) {
                const node = selectedContent.firstChild;
                
                if (node.nodeType === Node.ELEMENT_NODE && 
                    (node.classList.contains('yellow-highlight') || node.classList.contains('blue-highlight'))) {
                    // If it's a highlighted span, extract its children
                    while (node.firstChild) {
                        fragment.appendChild(node.firstChild);
                    }
                } else {
                    fragment.appendChild(node);
                }
            }
            
            range.insertNode(fragment);
            removeHighlightMenu();
        }

        function removeHighlightMenu() {
            if (highlightMenu) {
                highlightMenu.remove();
                highlightMenu = null;
            }
            currentSelection = null;
        }

        document.addEventListener('selectionchange', () => {
            currentSelection = window.getSelection();
        });

        document.addEventListener('mousedown', (e) => {
            if (highlightMenu && !highlightMenu.contains(e.target)) {
                removeHighlightMenu();
            }
        });

        document.getElementById('passage-content').addEventListener('mouseup', (e) => {
            const selection = window.getSelection();
            if (selection.toString().trim() !== '') {
                const range = selection.getRangeAt(0);
                const rect = range.getBoundingClientRect();
                
                createHighlightMenu(rect.left + window.scrollX, rect.top + window.scrollY - 45);
            }
        });

        // Answer submission and evaluation
        const correctAnswers = {
            q1: "85 dBA",
            q2: "HEARING",
            q3: "HIGH-FREQUENCY",
            q4: "STOMACH CONTRACTIONS",
            q5: "NOISE MAPS",
            q6: "B",
            q7: "D",
            q8: "C",
            q9: "E",
            q10: "A",
            q11: "C",
            q12: "D",
            q13: "C"
        };

        const answerLocations = {
            q1: "Section A: 'hazardous noise is sound that exceeds the time-weighted average of 85 dBA'",
            q2: "Section C: 'exposure to certain levels of sound can damage hearing'",
            q3: "Section C: 'difficulties with high-frequency sound discrimination'",
            q4: "Section D: 'exposure to noise caused stomach contractions in healthy human beings'",
            q5: "Section E: 'countries with cities of at least 250,000 people are creating noise maps'",
            q6: "Section C: 'William Luxford... a change in environment can improve a person's hearing health'",
            q7: "Section E: 'Bronzaft stresses that governments worldwide need to increase funding for noise research'",
            q8: "Section B: 'OSHA does require that any employer with workers overexposed to noise provide protection'",
            q9: "Section C: 'Centers for Disease Control and Prevention reported... 12.5% of American children have noise-induced hearing'",
            q10: "Section A: 'WHO declared... noise-induced hearing impairment is the most prevalent irreversible occupational hazard'",
            q11: "Section D: 'the school board to have acoustical tile installed in the classrooms adjacent to the tracks'",
            q12: "Section E: 'creating noise maps of those cities to help leaders determine noise pollution policies'",
            q13: "Section A: Title of the passage and content discussing effects of noise"
        };

        function submitAnswers() {
            clearInterval(timerInterval);
            
            let score = 0;
            const results = [];
            
            // Check text answers (q1 to q5)
            for (let i = 1; i <= 5; i++) {
                const answer = document.getElementById(`q${i}`).value.trim().toUpperCase();
                const correctAnswer = correctAnswers[`q${i}`].toUpperCase();
                const isCorrect = answer === correctAnswer;
                
                if (isCorrect) score++;
                
                results.push({
                    question: `Question ${i}`,
                    userAnswer: answer || 'No answer',
                    correctAnswer: correctAnswers[`q${i}`],
                    isCorrect,
                    location: answerLocations[`q${i}`]
                });
            }
            
            // Check radio answers (q6 to q13)
            for (let i = 6; i <= 13; i++) {
                const selectedOption = document.querySelector(`input[name=q${i}]:checked`);
                const userAnswer = selectedOption ? selectedOption.value : '';
                const isCorrect = userAnswer === correctAnswers[`q${i}`];
                
                if (isCorrect) score++;
                
                results.push({
                    question: `Question ${i}`,
                    userAnswer: userAnswer || 'No answer',
                    correctAnswer: correctAnswers[`q${i}`],
                    isCorrect,
                    location: answerLocations[`q${i}`]
                });
            }
            
            // Display results
            document.getElementById('score').textContent = `${score}/13`;
            
            const resultsList = document.getElementById('results-list');
            resultsList.innerHTML = '';
            
            results.forEach(result => {
                const resultItem = document.createElement('div');
                resultItem.className = `result-item ${result.isCorrect ? 'correct' : 'incorrect'}`;
                
                resultItem.innerHTML = `
                    <div class="result-question">${result.question}</div>
                    <div class="user-answer">Your answer: ${result.userAnswer}</div>
                    <div class="correct-answer">Correct answer: ${result.correctAnswer}</div>
                    <div class="answer-location">Location in text: ${result.location}</div>
                `;
                
                resultsList.appendChild(resultItem);
            });
            
            document.getElementById('results-container').style.display = 'block';
        }

        document.getElementById('submit-btn').addEventListener('click', submitAnswers);
        
        document.getElementById('close-results').addEventListener('click', () => {
            document.getElementById('results-container').style.display = 'none';
        });

        // Start the timer when the page loads
        window.addEventListener('load', startTimer);
    </script>
</body>
</html>