<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Reading Practice - Italian architect</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --day-bg: #f8f9fa;
            --day-text: #212529;
            --day-primary: #4a6fa5;
            --day-secondary: #e9ecef;
            --day-highlight-yellow: rgba(255, 240, 140, 0.5);
            --day-highlight-blue: rgba(173, 216, 230, 0.5);
            
            --night-bg: #1a1a2e;
            --night-text: #e6e6e6;
            --night-primary: #6f42c1;
            --night-secondary: #2d3748;
            --night-highlight-yellow: rgba(102, 77, 0, 0.7);
            --night-highlight-blue: rgba(0, 68, 102, 0.7);
            
            --sepia-bg: #f5ecd7;
            --sepia-text: #3b2c1a;
            --sepia-primary: #8b5a2b;
            --sepia-secondary: #e3d9c6;
            --sepia-highlight-yellow: rgba(204, 173, 108, 0.5);
            --sepia-highlight-blue: rgba(159, 191, 204, 0.5);
            
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: var(--transition);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background-color: var(--day-bg);
            color: var(--day-text);
            overflow-x: hidden;
        }

        body.night-mode {
            background-color: var(--night-bg);
            color: var(--night-text);
        }

        body.sepia-mode {
            background-color: var(--sepia-bg);
            color: var(--sepia-text);
        }

        .container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            padding: 1rem;
            background-color: var(--day-primary);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            position: relative;
        }

        body.night-mode header {
            background-color: var(--night-primary);
        }

        body.sepia-mode header {
            background-color: var(--sepia-primary);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .theme-switcher {
            display: flex;
            gap: 0.5rem;
        }

        .theme-btn {
            background: none;
            border: 2px solid rgba(255, 255, 255, 0.5);
            color: white;
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .telegram-btn {
            background-color: #0088cc;
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
        }

        .telegram-btn:hover {
            background-color: #006da3;
            transform: translateY(-2px);
        }

        .timer-container {
            position: sticky;
            top: 0;
            z-index: 100;
            background-color: var(--day-secondary);
            padding: 0.5rem;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        body.night-mode .timer-container {
            background-color: var(--night-secondary);
        }

        body.sepia-mode .timer-container {
            background-color: var(--sepia-secondary);
        }

        .timer {
            font-size: 1.2rem;
            font-family: monospace;
        }

        .timer.warning {
            color: #ff6b6b;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        @media (max-width: 992px) {
            .content {
                flex-direction: column;
            }
        }

        .passage-container {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            border-right: 1px solid #ddd;
            height: calc(100vh - 150px);
        }

        body.night-mode .passage-container {
            border-right-color: 444;
        }

        body.sepia-mode .passage-container {
            border-right-color: #c4b59a;
        }

        .questions-container {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            height: calc(100vh - 150px);
        }

        .passage-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--day-primary);
            text-align: center;
        }

        body.night-mode .passage-title {
            color: var(--night-primary);
        }

        body.sepia-mode .passage-title {
            color: var(--sepia-primary);
        }

        .passage-text {
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .passage-text p {
            margin-bottom: 1rem;
        }

        .highlight-menu {
            position: absolute;
            background: white;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            display: flex;
            gap: 5px;
        }

        .highlight-menu button {
            width: 30px;
            height: 30px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .highlight-yellow {
            background-color: var(--day-highlight-yellow);
        }

        .highlight-blue {
            background-color: var(--day-highlight-blue);
        }

        body.night-mode .highlight-yellow {
            background-color: var(--night-highlight-yellow);
        }

        body.night-mode .highlight-blue {
            background-color: var(--night-highlight-blue);
        }

        body.sepia-mode .highlight-yellow {
            background-color: var(--sepia-highlight-yellow);
        }

        body.sepia-mode .highlight-blue {
            background-color: var(--sepia-highlight-blue);
        }

        .question-section {
            margin-bottom: 2rem;
        }

        .question-title {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: var(--day-primary);
        }

        body.night-mode .question-title {
            color: var(--night-primary);
        }

        body.sepia-mode .question-title {
            color: var(--sepia-primary);
        }

        .question {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: var(--day-secondary);
            border-radius: 8px;
        }

        body.night-mode .question {
            background-color: var(--night-secondary);
        }

        body.sepia-mode .question {
            background-color: var(--sepia-secondary);
        }

        .question-text {
            margin-bottom: 0.8rem;
            font-weight: 500;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            border-radius: 4px;
            cursor: pointer;
        }

        .option:hover {
            background-color: rgba(0,0,0,0.05);
        }

        body.night-mode .option:hover {
            background-color: rgba(255,255,255,0.05);
        }

        body.sepia-mode .option:hover {
            background-color: rgba(0,0,0,0.03);
        }

        .option input {
            cursor: pointer;
        }

        .submit-btn {
            display: block;
            margin: 2rem auto;
            padding: 1rem 2rem;
            background-color: var(--day-primary);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        body.night-mode .submit-btn {
            background-color: var(--night-primary);
        }

        body.sepia-mode .submit-btn {
            background-color: var(--sepia-primary);
        }

        .results-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .results-content {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            width: 800px;
        }

        body.night-mode .results-content {
            background-color: var(--night-bg);
            color: var(--night-text);
        }

        body.sepia-mode .results-content {
            background-color: var(--sepia-bg);
            color: var(--sepia-text);
        }

        .results-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--day-primary);
        }

        body.night-mode .results-title {
            color: var(--night-primary);
        }

        body.sepia-mode .results-title {
            color: var(--sepia-primary);
        }

        .score {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .result-item {
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 8px;
        }

        .correct {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
        }

        body.night-mode .correct {
            background-color: rgba(0, 100, 0, 0.3);
            border-color: rgba(0, 80, 0, 0.5);
        }

        body.sepia-mode .correct {
            background-color: rgba(0, 100, 0, 0.2);
            border-color: rgba(0, 80, 0, 0.4);
        }

        .incorrect {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
        }

        body.night-mode .incorrect {
            background-color: rgba(139, 0, 0, 0.3);
            border-color: rgba(120, 0, 0, 0.5);
        }

        body.sepia-mode .incorrect {
            background-color: rgba(139, 0, 0, 0.2);
            border-color: rgba(120, 0, 0, 0.4);
        }

        .result-question {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .result-answer {
            margin-bottom: 0.5rem;
        }

        .result-reference {
            font-style: italic;
            color: #6c757d;
        }

        body.night-mode .result-reference {
            color: #aaa;
        }

        body.sepia-mode .result-reference {
            color: #7a6a57;
        }

        .close-results {
            display: block;
            margin: 1rem auto 0;
            padding: 0.5rem 1.5rem;
            background-color: var(--day-primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        body.night-mode .close-results {
            background-color: var(--night-primary);
        }

        body.sepia-mode .close-results {
            background-color: var(--sepia-primary);
        }

        /* Styles for True/False/Not Given questions */
        .tfng-container {
            margin-bottom: 2rem;
        }

        .tfng-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            padding: 0.8rem;
            background-color: var(--day-secondary);
            border-radius: 8px;
        }

        body.night-mode .tfng-item {
            background-color: var(--night-secondary);
        }

        body.sepia-mode .tfng-item {
            background-color: var(--sepia-secondary);
        }

        .tfng-number {
            font-weight: bold;
            min-width: 30px;
        }

        .tfng-select {
            margin: 0 1rem;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            background-color: white;
            width: 120px;
        }

        body.night-mode .tfng-select {
            background-color: var(--night-secondary);
            color: var(--night-text);
            border-color: #555;
        }

        body.sepia-mode .tfng-select {
            background-color: var(--sepia-secondary);
            color: var(--sepia-text);
            border-color: #b8a98b;
        }

        .tfng-text {
            flex: 1;
        }

        /* Styles for short answer questions */
        .short-answer-container {
            margin-bottom: 2rem;
        }

        .short-answer-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .short-answer-number {
            font-weight: bold;
            min-width: 30px;
        }

        .short-answer-input {
            margin-left: 0.5rem;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 250px;
        }

        body.night-mode .short-answer-input {
            background-color: var(--night-secondary);
            color: var(--night-text);
            border-color: #555;
        }

        body.sepia-mode .short-answer-input {
            background-color: var(--sepia-secondary);
            color: var(--sepia-text);
            border-color: #b8a98b;
        }

        .instruction {
            font-style: italic;
            color: #6c757d;
            margin-bottom: 1rem;
        }

        body.night-mode .instruction {
            color: #aaa;
        }

        body.sepia-mode .instruction {
            color: #7a6a57;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">IELTS Reading Practice</div>
            <div class="theme-switcher">
                <button class="theme-btn" id="day-theme" title="Day Mode"><i class="fas fa-sun"></i></button>
                <button class="theme-btn" id="night-theme" title="Night Mode"><i class="fas fa-moon"></i></button>
                <button class="theme-btn" id="sepia-theme" title="Sepia Mode"><i class="fas fa-book"></i></button>
            </div>
            <a href="tg://resolve?domain=aftum_8" class="telegram-btn">
                <i class="fab fa-telegram"></i> Телеграмм канал
            </a>
        </header>

        <div class="timer-container">
            <div class="timer" id="timer">20:00</div>
        </div>

        <div class="content">
            <div class="passage-container">
                <h2 class="passage-title">Italian architect</h2>
                <div class="passage-text" id="passage-text">
                    <p><strong>A</strong></p>
                    <p>Vicenza is a pleasant, prosperous city in the Veneto, 60km west of Venice. Its grand families settled and farmed the area from the 16th century. But its principal claim to fame is Andrea Palladio, who is such an influential architect that a neoclassical style is known as Palladian. The city is a permanent exhibition of some of his finest buildings, and as he was born – in Padua, to be precise – 500 years ago, the International Centre for the Study of Palladio's Architecture has an excellent excuse for mounting la grande Mostra, the big show.</p>
                    
                    <p><strong>B</strong></p>
                    <p>The exhibition has the special advantage of being held in one of Palladio's buildings, Palazzo Barbaran da Porto. Its bold façade is a mixture of rustication and decoration set between two rows of elegant columns. On the second floor, the pediments are alternately curved or pointed, a Palladian trademark. The harmonious proportions of the atrium at the entrance lead through to a dramatic interior of fine fireplaces and painted ceilings. Palladio's design is simple, clear and not over-crowded. The show has been organised on the same principles, according to Howard Burns, the architectural historian who co-curated it.</p>
                    
                    <p><strong>C</strong></p>
                    <p>Palladio's father was a miller who settled in Vicenza, where the young Andrea was apprenticed to a skilled stonemason. How did a humble miller's son become a world-renowned architect? The answer in the exhibition is that, as a young man, Palladio excelled at carving decorative stonework on columns, doorways and fireplaces. He was plainly intelligent, and lucky enough to come across a rich patron, Gian Giorgio Trissino, a landowner and scholar, who organised his education, taking him to Rome in the 1540s, where he studied the masterpieces of classical Roman and Greek architecture and the work of other influential architects of the time, such as Donato Bramante and Raphael.</p>
                    
                    <p><strong>D</strong></p>
                    <p>Burns argues that social mobility was also important. Entrepreneurs, prosperous from agriculture in the Veneto, commissioned the promising local architect to design their country villas and their urban mansions. In Venice, the aristocracy was anxious to co-opt talented artists, and Palladio has given the chance to design the buildings that have made him famous – the churches of San Giorgio Maggiore and the Redentore, both easy to admire because they can be seen from the city's historical centre across a stretch of water.</p>
                    
                    <p><strong>E</strong></p>
                    <p>He tried his hand at bridges – his unbuilt version of the Rialto Bridge was decorated with the large pediment and columns of a temple – and, after a fire at the Ducal Palace, he offered an alternative design which bears an uncanny resemblance to the Banqueting House in Whitehall in London. Since it was designed by Inigo Jones, Palladio's first foreign disciple, this is not as surprising as it sounds.</p>
                    
                    <p><strong>F</strong></p>
                    <p>Jones, who visited Italy in 1614, bought a trunk full of the master's architectural drawings; they passed through the hands of Dukes of Burlington and Devonshire before settling at the Royal Institute of British Architects in 1894. Many are now on display at Palazzo Barbaran. What they show is how Palladio drew on the buildings of ancient Rome as models. The major theme of both his rural and urban building was temple architecture, with a strong pointed pediment supported by columns and approached by wide steps.</p>
                    
                    <p><strong>G</strong></p>
                    <p>Palladio's work for rich landowners alienates unreconstructed critics on the Italian left, but among the papers in the show are designed for cheap housing in Venice. In the wider world, Palladio's reputation has been nurtured by a text he wrote and illustrated, "Quattro Libri dell' Architettura". His influence spread to St Petersburg and to Charlottesville in Virginia, where Thomas Jefferson commissioned a Palladian villa he called Monticello.</p>
                    
                    <p><strong>H</strong></p>
                    <p>Vicenza's show contains detailed models of the major buildings and is leavened by portraits of Palladio's teachers and clients by Titian, Veronese and Tintoretto; the paintings of his Venetian buildings are all by Canaletto, no less. This is an uncompromising exhibition; many of the drawings are small and faint, and there are no sideshows for children, but the impact of harmonious lines and satisfying proportions is to impart in a viewer a feeling of benevolent calm. Palladio is history's most therapeutic architect.</p>
                    
                    <p><strong>I</strong></p>
                    <p>"Palladio, 500 Anni: La Grande Mostra" is at Palazzo Barbaran da Porto, Vicenza, until January 6th 2009. The exhibition continues at the Royal Academy of Arts, London, from January 31st to April 13th, and travels afterwards to Barcelona and Madrid.</p>
                </div>
            </div>

            <div class="questions-container">
                <div class="question-section">
                    <h3 class="question-title">Questions 1-7</h3>
                    <p>Do the following statements agree with the information given in Reading Passage 1?</p>
                    <p>In boxes 1-7 on your answer sheet, write</p>
                    <p><strong>TRUE</strong> if the statement agrees with the information</p>
                    <p><strong>FALSE</strong> if the statement contradicts the information</p>
                    <p><strong>NOT GIVEN</strong> if there is no information on this</p>
                    
                    <div class="tfng-container">
                        <div class="tfng-item">
                            <div class="tfng-number">1.</div>
                            <select class="tfng-select" name="q1">
                                <option value="">Select</option>
                                <option value="TRUE">TRUE</option>
                                <option value="FALSE">FALSE</option>
                                <option value="NOT GIVEN">NOT GIVEN</option>
                            </select>
                            <div class="tfng-text">The building where the exhibition is staged has been newly renovated.</div>
                        </div>
                        
                        <div class="tfng-item">
                            <div class="tfng-number">2.</div>
                            <select class="tfng-select" name="q2">
                                <option value="">Select</option>
                                <option value="TRUE">TRUE</option>
                                <option value="FALSE">FALSE</option>
                                <option value="NOT GIVEN">NOT GIVEN</option>
                            </select>
                            <div class="tfng-text">Palazzo Barbaran da Porto typically represents Palladio's design.</div>
                        </div>
                        
                        <div class="tfng-item">
                            <div class="tfng-number">3.</div>
                            <select class="tfng-select" name="q3">
                                <option value="">Select</option>
                                <option value="TRUE">TRUE</option>
                                <option value="FALSE">FALSE</option>
                                <option value="NOT GIVEN">NOT GIVEN</option>
                            </select>
                            <div class="tfng-text">Palladio's father worked as an architect.</div>
                        </div>
                        
                        <div class="tfng-item">
                            <div class="tfng-number">4.</div>
                            <select class="tfng-select" name="q4">
                                <option value="">Select</option>
                                <option value="TRUE">TRUE</option>
                                <option value="FALSE">FALSE</option>
                                <option value="NOT GIVEN">NOT GIVEN</option>
                            </select>
                            <div class="tfng-text">Palladio's family refused to pay for his architectural studies.</div>
                        </div>
                        
                        <div class="tfng-item">
                            <div class="tfng-number">5.</div>
                            <select class="tfng-select" name="q5">
                                <option value="">Select</option>
                                <option value="TRUE">TRUE</option>
                                <option value="FALSE">FALSE</option>
                                <option value="NOT GIVEN">NOT GIVEN</option>
                            </select>
                            <div class="tfng-text">Palladio's alternative design for the Ducal Palace in Venice was based on an English building.</div>
                        </div>
                        
                        <div class="tfng-item">
                            <div class="tfng-number">6.</div>
                            <select class="tfng-select" name="q6">
                                <option value="">Select</option>
                                <option value="TRUE">TRUE</option>
                                <option value="FALSE">FALSE</option>
                                <option value="NOT GIVEN">NOT GIVEN</option>
                            </select>
                            <div class="tfng-text">Palladio designed for both wealthy and poor people.</div>
                        </div>
                        
                        <div class="tfng-item">
                            <div class="tfng-number">7.</div>
                            <select class="tfng-select" name="q7">
                                <option value="">Select</option>
                                <option value="TRUE">TRUE</option>
                                <option value="FALSE">FALSE</option>
                                <option value="NOT GIVEN">NOT GIVEN</option>
                            </select>
                            <div class="tfng-text">The exhibition includes paintings of people by famous artists.</div>
                        </div>
                    </div>
                </div>

                <div class="question-section">
                    <h3 class="question-title">Questions 8-13</h3>
                    <p class="instruction">Answer the questions below.</p>
                    <p class="instruction">Choose <strong>NO MORE THAN THREE WORDS</strong> from the passage for each answer.</p>
                    <p>Write your answers in boxes 8-13 on your answer sheet.</p>
                    
                    <div class="short-answer-container">
                        <div class="short-answer-item">
                            <div class="short-answer-number">8.</div>
                            <div>What job was Palladio training for before he became an architect?</div>
                            <input type="text" class="short-answer-input" name="q8">
                        </div>
                        
                        <div class="short-answer-item">
                            <div class="short-answer-number">9.</div>
                            <div>Who arranged Palladio's architectural studies?</div>
                            <input type="text" class="short-answer-input" name="q9">
                        </div>
                        
                        <div class="short-answer-item">
                            <div class="short-answer-number">10.</div>
                            <div>Who was the first non-Italian architect influenced by Palladio?</div>
                            <input type="text" class="short-answer-input" name="q10">
                        </div>
                        
                        <div class="short-answer-item">
                            <div class="short-answer-number">11.</div>
                            <div>What type of Ancient Roman buildings most heavily influenced Palladio's work?</div>
                            <input type="text" class="short-answer-input" name="q11">
                        </div>
                        
                        <div class="short-answer-item">
                            <div class="short-answer-number">12.</div>
                            <div>What did Palladio write that strengthened his reputation?</div>
                            <input type="text" class="short-answer-input" name="q12">
                        </div>
                        
                        <div class="short-answer-item">
                            <div class="short-answer-number">13.</div>
                            <div>In the writer's opinion, what feeling will visitors to the exhibition experience?</div>
                            <input type="text" class="short-answer-input" name="q13">
                        </div>
                    </div>
                </div>

                <button class="submit-btn" id="submit-btn">Submit Answers</button>
            </div>
        </div>
    </div>

    <div class="results-container" id="results-container">
        <div class="results-content">
            <h2 class="results-title">Test Results</h2>
            <div class="score" id="score">Score: 0/13</div>
            
            <div id="results-details">
                <!-- Results will be inserted here -->
            </div>
            
            <button class="close-results" id="close-results">Close</button>
        </div>
    </div>

    <script>
        // Theme switching functionality
        document.getElementById('day-theme').addEventListener('click', () => {
            document.body.classList.remove('night-mode', 'sepia-mode');
        });

        document.getElementById('night-theme').addEventListener('click', () => {
            document.body.classList.add('night-mode');
            document.body.classList.remove('sepia-mode');
        });

        document.getElementById('sepia-theme').addEventListener('click', () => {
            document.body.classList.add('sepia-mode');
            document.body.classList.remove('night-mode');
        });

        // Timer functionality
        const timerElement = document.getElementById('timer');
        let timeLeft = 20 * 60; // 20 minutes in seconds
        let timerInterval;

        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                submitAnswers();
                return;
            }

            timeLeft--;

            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

            if (timeLeft <= 5 * 60) { // 5 minutes left
                timerElement.classList.add('warning');
            }
        }

        // Text highlighting functionality
        let highlightMenu = null;

        function createHighlightMenu(x, y) {
            if (highlightMenu) {
                document.body.removeChild(highlightMenu);
            }

            highlightMenu = document.createElement('div');
            highlightMenu.className = 'highlight-menu';
            highlightMenu.style.left = `${x}px`;
            highlightMenu.style.top = `${y}px`;

            const yellowBtn = document.createElement('button');
            yellowBtn.innerHTML = '<i class="fas fa-highlighter" style="color: #ffd700;"></i>';
            yellowBtn.title = 'Yellow Highlight';
            yellowBtn.addEventListener('click', () => applyHighlight('yellow'));
            highlightMenu.appendChild(yellowBtn);

            const blueBtn = document.createElement('button');
            blueBtn.innerHTML = '<i class="fas fa-highlighter" style="color: #87ceeb;"></i>';
            blueBtn.title = 'Blue Highlight';
            blueBtn.addEventListener('click', () => applyHighlight('blue'));
            highlightMenu.appendChild(blueBtn);

            const clearBtn = document.createElement('button');
            clearBtn.innerHTML = '<i class="fas fa-eraser"></i>';
            clearBtn.title = 'Clear Highlight';
            clearBtn.addEventListener('click', clearHighlight);
            highlightMenu.appendChild(clearBtn);

            document.body.appendChild(highlightMenu);
        }

        function applyHighlight(color) {
            const selection = window.getSelection();
            if (!selection.rangeCount) return;

            const range = selection.getRangeAt(0);
            const selectedText = range.toString();
            if (!selectedText.trim()) return;

            const span = document.createElement('span');
            span.className = `highlight-${color}`;
            span.textContent = selectedText;

            range.deleteContents();
            range.insertNode(span);

            selection.removeAllRanges();
            removeHighlightMenu();
        }

        function clearHighlight() {
            const selection = window.getSelection();
            if (!selection.rangeCount) return;

            const range = selection.getRangeAt(0);
            const selectedText = range.toString();
            if (!selectedText.trim()) return;

            // Find if the selection is inside a highlight
            let parent = selection.anchorNode;
            while (parent && parent !== document) {
                if (parent.classList && (parent.classList.contains('highlight-yellow') || parent.classList.contains('highlight-blue'))) {
                    // Replace the highlighted span with just text
                    const textNode = document.createTextNode(parent.textContent);
                    parent.parentNode.replaceChild(textNode, parent);
                    break;
                }
                parent = parent.parentNode;
            }

            selection.removeAllRanges();
            removeHighlightMenu();
        }

        function removeHighlightMenu() {
            if (highlightMenu) {
                document.body.removeChild(highlightMenu);
                highlightMenu = null;
            }
        }

        // Event listeners for text selection
        document.addEventListener('selectionchange', () => {
            if (highlightMenu) {
                removeHighlightMenu();
            }
        });

        document.getElementById('passage-text').addEventListener('mouseup', (e) => {
            const selection = window.getSelection();
            const selectedText = selection.toString().trim();
            
            if (selectedText.length > 0) {
                const range = selection.getRangeAt(0);
                const rect = range.getBoundingClientRect();
                
                createHighlightMenu(rect.left + window.scrollX, rect.bottom + window.scrollY + 5);
            }
        });

        document.addEventListener('mousedown', (e) => {
            if (highlightMenu && !highlightMenu.contains(e.target)) {
                removeHighlightMenu();
            }
        });

        // Answer checking functionality
        const correctAnswers = {
            q1: 'NOT GIVEN',
            q2: 'TRUE',
            q3: 'FALSE',
            q4: 'NOT GIVEN',
            q5: 'FALSE',
            q6: 'TRUE',
            q7: 'TRUE',
            q8: 'stonemason',
            q9: 'Gian Giorgio Trissino',
            q10: 'Inigo Jones',
            q11: 'temple',
            q12: 'Quattro Libri dell\' Architettura',
            q13: 'benevolent calm'
        };

        const answerReferences = {
            q1: "Paragraph B: No information about whether the building was newly renovated",
            q2: "Paragraph B: 'The exhibition has the special advantage of being held in one of Palladio's buildings, Palazzo Barbaran da Porto.'",
            q3: "Paragraph C: 'Palladio's father was a miller' (not an architect)",
            q4: "Paragraph C: No information about whether his family refused to pay for his studies",
            q5: "Paragraph E: 'he offered an alternative design which bears an uncanny resemblance to the Banqueting House in Whitehall in London. Since it was designed by Inigo Jones, Palladio's first foreign disciple' (The English building was based on Palladio's design, not vice versa)",
            q6: "Paragraph G: 'Palladio's work for rich landowners... but among the papers in the show are designed for cheap housing in Venice.'",
            q7: "Paragraph H: 'Vicenza's show contains detailed models of the major buildings and is leavened by portraits of Palladio's teachers and clients by Titian, Veronese and Tintoretto'",
            q8: "Paragraph C: 'the young Andrea was apprenticed to a skilled stonemason'",
            q9: "Paragraph C: 'lucky enough to come across a rich patron, Gian Giorgio Trissino... who organised his education'",
            q10: "Paragraph E: 'Inigo Jones, Palladio's first foreign disciple'",
            q11: "Paragraph F: 'The major theme of both his rural and urban building was temple architecture'",
            q12: "Paragraph G: 'Palladio's reputation has been nurtured by a text he wrote and illustrated, \"Quattro Libri dell' Architettura\"'",
            q13: "Paragraph H: 'the impact of harmonious lines and satisfying proportions is to impart in a viewer a feeling of benevolent calm'"
        };

        function submitAnswers() {
            clearInterval(timerInterval);
            
            let score = 0;
            const resultsDetails = document.getElementById('results-details');
            resultsDetails.innerHTML = '';
            
            // Check True/False/Not Given questions (1-7)
            for (let i = 1; i <= 7; i++) {
                const questionName = `q${i}`;
                const selectedOption = document.querySelector(`select[name="${questionName}"]`);
                const isCorrect = selectedOption && selectedOption.value === correctAnswers[questionName];
                
                if (isCorrect) score++;
                
                const resultItem = document.createElement('div');
                resultItem.className = `result-item ${isCorrect ? 'correct' : 'incorrect'}`;
                resultItem.innerHTML = `
                    <div class="result-question">Question ${i}</div>
                    <div class="result-answer">Your answer: ${selectedOption.value || 'Not answered'} | Correct answer: ${correctAnswers[questionName]}</div>
                    <div class="result-reference">${answerReferences[questionName]}</div>
                `;
                
                resultsDetails.appendChild(resultItem);
            }
            
            // Check short answer questions (8-13)
            for (let i = 8; i <= 13; i++) {
                const questionName = `q${i}`;
                const inputElement = document.querySelector(`input[name="${questionName}"]`);
                const userAnswer = inputElement ? inputElement.value.trim().toLowerCase() : '';
                const isCorrect = userAnswer === correctAnswers[questionName].toLowerCase();
                
                if (isCorrect) score++;
                
                const resultItem = document.createElement('div');
                resultItem.className = `result-item ${isCorrect ? 'correct' : 'incorrect'}`;
                resultItem.innerHTML = `
                    <div class="result-question">Question ${i}</div>
                    <div class="result-answer">Your answer: ${userAnswer || 'Not answered'} | Correct answer: ${correctAnswers[questionName]}</div>
                    <div class="result-reference">${answerReferences[questionName]}</div>
                `;
                
                resultsDetails.appendChild(resultItem);
            }
            
            document.getElementById('score').textContent = `Score: ${score}/13`;
            document.getElementById('results-container').style.display = 'flex';
        }

        document.getElementById('submit-btn').addEventListener('click', submitAnswers);
        document.getElementById('close-results').addEventListener('click', () => {
            document.getElementById('results-container').style.display = 'none';
        });

        // Start the timer when the page loads
        window.addEventListener('load', () => {
            startTimer();
        });
    </script>
</body>
</html>